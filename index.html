<!DOCTYPE html>
<html lang="es-ve">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calc-divisas</title>

    <style>
        body {
            margin: 0;
            background-color: ghostwhite;
            font-family: 'Liberation Sans';
        }

        header {
            text-align: center;
        }

        main {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        footer {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            font-size: small;
            padding-right: 1rem;
        }

        a {
            color: violet;
            text-decoration: none;
        }

        #caca {
            display: flex;
        }

        #nav-top {
            display: block;
            background-color: darkviolet;
            font-family: 'Rubik';
        }

        #nav-top ul {
            margin: 0;
            padding: .5rem;

            display: flex;
            justify-content: space-around;
            align-items: baseline;

            list-style: none;
        }

        #nav-top li {
            padding-right: 2rem;
        }

        @media screen and (max-width: 520px) {
            #caca {
                flex-direction: column;
            }
        }

        @media (orientation: portrait) {
            #nav-top {
                text-align: center;
            }

            #nav-top ul {
                display: block;
            }

            #nav-top ul>ul {
                display: flex;
                justify-content: space-evenly;
            }
        }
    </style>
</head>

<body>
    <nav id="nav-top">
        <ul>
            <li><a href="https://chavezcastillok.github.io">Chavez Castillo k</a></li>
            <li>/ Calc-divisas</li>
            <ul>
                <li><a href="https://github.com/ChavezCastillok">@GitHub</a></li>
                <li><a href="https://twitter.com/chavezcastillok">@Twitter</a></li>
            </ul>
        </ul>
    </nav>
    <header>
        <h1>Calculadora de divisas</h1>
        <h2>Venezuela</h2>
    </header>
    <main>
        <form id="caca" action="" method="get">
            <fieldset>
                <legend>Equivalencias</legend>
                <p><input type="text" id="usd" placeholder="0.00"> USD</p>
                <p><input type="text" id="cop" placeholder="0.00"> COP</p>
                <p><input type="text" id="ves" placeholder="0.00"> VES</p>
            </fieldset>

            <fieldset>
                <legend>Referencias</legend>
                <p><input type="text" value="1.00" readonly> USD</p>
                <h5>Tasas de cambio</h5>
                <p><input type="text" id="USDCOP"> COP</p>
                <p><input type="text" id="USDVES"> VES</p>
                <h5>1 VES en COP</h5>
                <p><input type="text" id="VESCOP" readonly></p>
            </fieldset>
        </form>
        <ul>
                <li>USD: Dolar de Estados Unidos.</li>
                <li>COP: Peso de Colombia.</li>
                <li>VES: Bolivar Soberano de Venezuela.</li>
            </ul>
    </main>
    <footer>
        <p>Fin.</p>
    </footer>

    <script>

        var tasa_USDCOP = document.getElementById('USDCOP')
        var tasa_USDVES = document.getElementById('USDVES')
        var tasa_VESCOP = document.getElementById('VESCOP')

        var montoUSD = document.getElementById('usd')
        var montoCOP = document.getElementById('cop')
        var montoVES = document.getElementById('ves')

        localStorage.tasaUC = localStorage.tasaUC || '3400'
        localStorage.tasaUV = localStorage.tasaUV || '475000'

        tasa_USDCOP.value = parseFloat(localStorage.tasaUC)
        tasa_USDVES.value = parseFloat(localStorage.tasaUV)
        tasa_VESCOP.value = tasa_USDCOP.value / tasa_USDVES.value

        montoUSD.addEventListener('keyup', function () {
            let usd = parseFloat(montoUSD.value)
            montoCOP.value = usd * parseFloat(localStorage.tasaUC)
            montoVES.value = usd * parseFloat(localStorage.tasaUV)
        })

        montoCOP.addEventListener('keyup', function () {
            let pesos = parseFloat(montoCOP.value)
            montoUSD.value = pesos / parseFloat(localStorage.tasaUC)
            montoVES.value = montoUSD.value * parseFloat(localStorage.tasaUV)
        })

        montoVES.addEventListener('keyup', function () {
            let bolivares = parseFloat(montoVES.value)
            montoUSD.value = bolivares / parseFloat(localStorage.tasaUV)
            montoCOP.value = montoUSD.value * parseFloat(localStorage.tasaUC)
        })

        tasa_USDCOP.addEventListener('keyup', function () {
            localStorage.tasaUC = tasa_USDCOP.value
            tasa_VESCOP.value = parseFloat(localStorage.tasaUC) / parseFloat(localStorage.tasaUV)
        })
        tasa_USDVES.addEventListener('keyup', function () {
            localStorage.tasaUV = tasa_USDVES.value
            tasa_VESCOP.value = parseFloat(localStorage.tasaUC) / parseFloat(localStorage.tasaUV)
        })

    </script>
</body>

</html>